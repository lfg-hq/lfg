{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LFG ðŸš€ | AI-Powered Product Development Platform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/x-icon" href="/static/images/favicon.ico">
    <style>
        :root {
            --primary-purple: #8B5CF6;
            --secondary-purple: #A855F7;
            --dark-purple: #6D28D9;
            --accent-purple: #C084FC;
            --neon-purple: #E879F9;
            --bg-dark: #0A0A0F;
            --bg-darker: #050507;
            --bg-card: #1A1A2E;
            --bg-card-hover: #252545;
            --text-primary: #FFFFFF;
            --text-secondary: #B8B8D1;
            --text-muted: #8B8BA7;
            --border-color: #2D2D4A;
            --success: #10B981;
            --warning: #F59E0B;
            --error: #EF4444;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            /* Hide scrollbar for IE, Edge and Firefox */
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        html::-webkit-scrollbar {
            display: none;
        }

        body {
            font-family: 'Space Grotesk', sans-serif;
            background: var(--bg-dark);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            /* Hide scrollbar for IE, Edge and Firefox */
            -ms-overflow-style: none;  /* IE and Edge */
            scrollbar-width: none;  /* Firefox */
        }

        /* Hide scrollbar for Chrome, Safari and Opera */
        body::-webkit-scrollbar {
            display: none;
        }

        /* Animated background */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: 
                radial-gradient(circle at 20% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(168, 85, 247, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(109, 40, 217, 0.05) 0%, transparent 50%);
            z-index: -1;
            animation: backgroundShift 20s ease-in-out infinite;
        }

        @keyframes backgroundShift {
            0%, 100% { transform: scale(1) rotate(0deg); }
            50% { transform: scale(1.1) rotate(1deg); }
        }

        /* Navigation */
        .navbar {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(10, 10, 15, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .navbar.scrolled {
            background: rgba(10, 10, 15, 0.95);
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary-purple), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            gap: 2rem;
            align-items: center;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--primary-purple);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -4px;
            left: 0;
            width: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--primary-purple), var(--neon-purple));
            transition: width 0.3s ease;
        }

        .nav-links a:hover::after {
            width: 100%;
        }

        .github-btn {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--primary-purple);
            border-radius: 8px;
            color: var(--primary-purple);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .github-btn:hover {
            background: var(--primary-purple);
            color: white !important;
            transform: translateY(-2px);
        }

        .cta-btn {
            padding: 0.75rem 1.5rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 8px;
            color: white !important;
            font-weight: 600;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .cta-btn:hover {
            transform: translateY(-2px);
            color: white !important;
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            position: relative;
            overflow: hidden;
        }

        .hero-content {
            max-width: 800px;
            z-index: 2;
        }

        .hero-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.5rem 1rem;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--primary-purple);
            border-radius: 50px;
            color: var(--primary-purple);
            font-size: 0.9rem;
            font-weight: 500;
            margin-bottom: 2rem;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .hero h1 {
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text-primary), var(--primary-purple), var(--neon-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn-primary {
            padding: 1rem 2rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.3);
            position: relative;
            overflow: hidden;
        }

        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn-primary:hover::before {
            left: 100%;
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 12px 35px rgba(139, 92, 246, 0.4);
        }

        .btn-secondary {
            padding: 1rem 2rem;
            background: transparent;
            border: 2px solid var(--primary-purple);
            border-radius: 12px;
            color: var(--primary-purple);
            font-weight: 600;
            font-size: 1.1rem;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .btn-secondary:hover {
            background: var(--primary-purple);
            color: white;
            transform: translateY(-3px);
        }

        /* Features Section */
        .features {
            padding: 6rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 4rem;
        }

        .section-header h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--text-primary), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .section-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 2rem;
        }

        .feature-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05), rgba(168, 85, 247, 0.05));
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .feature-card:hover::before {
            opacity: 1;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-purple);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.2);
        }

        /* Disabled agent cards */
        .feature-card.disabled {
            opacity: 0.5;
            filter: grayscale(1);
            pointer-events: none;
            position: relative;
        }

        .feature-card.disabled:hover {
            transform: none;
            border-color: var(--border-color);
            box-shadow: none;
        }

        .feature-card.disabled .feature-icon {
            background: linear-gradient(135deg, var(--text-muted), var(--border-color));
        }

        .feature-card.disabled h3,
        .feature-card.disabled .feature-role,
        .feature-card.disabled p {
            color: var(--text-muted);
        }

        .feature-icon {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
            color: white;
        }

        .feature-card h3 {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .feature-card p {
            color: var(--text-secondary);
            line-height: 1.6;
        }

        /* Agents Section */
        .agents {
            padding: 6rem 2rem;
            background: var(--bg-darker);
        }

        .agents-container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .agents-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .agent-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
        }

        .agent-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-purple);
            box-shadow: 0 15px 40px rgba(139, 92, 246, 0.2);
        }

        .agent-avatar {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary-purple), var(--neon-purple));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1.5rem;
            font-size: 2rem;
            color: white;
        }

        .agent-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .agent-role {
            color: var(--primary-purple);
            font-weight: 500;
            margin-bottom: 1rem;
        }

        .agent-card p {
            color: var(--text-secondary);
            font-size: 0.95rem;
            line-height: 1.5;
        }

        /* Disabled agent cards */
        .agent-card.disabled {
            opacity: 0.5;
            filter: grayscale(1);
            pointer-events: none;
            position: relative;
        }

        .agent-card.disabled:hover {
            transform: none;
            border-color: var(--border-color);
            box-shadow: none;
        }

        .agent-card.disabled .agent-avatar {
            background: linear-gradient(135deg, var(--text-muted), var(--border-color));
        }

        .agent-card.disabled h3,
        .agent-card.disabled .agent-role,
        .agent-card.disabled p {
            color: var(--text-muted);
        }

        /* Coming Soon badge */
        .coming-soon-badge {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: linear-gradient(135deg, var(--warning), #FCD34D);
            color: #1F2937;
            font-size: 0.75rem;
            font-weight: 600;
            padding: 0.25rem 0.75rem;
            border-radius: 12px;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 2px 8px rgba(245, 158, 11, 0.3);
        }

        /* Customization Section */
        .customization {
            padding: 6rem 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }

        .customization-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .custom-card {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.3s ease;
        }

        .custom-card:hover {
            transform: translateY(-5px);
            border-color: var(--primary-purple);
            box-shadow: 0 10px 30px rgba(139, 92, 246, 0.2);
        }

        .custom-icon {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            font-size: 1.2rem;
            color: white;
        }

        .custom-card h3 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .custom-card.disabled {
            opacity: 0.5;
            filter: grayscale(1);
            pointer-events: none;
            position: relative;
        }

        .custom-list {
            list-style: none;
            padding: 0;
        }

        .custom-list li {
            color: var(--text-secondary);
            margin-bottom: 0.5rem;
            padding-left: 1.5rem;
            position: relative;
        }

        .custom-list li::before {
            content: 'âœ“';
            position: absolute;
            left: 0;
            color: var(--success);
            font-weight: bold;
        }

        /* CTA Section */
        .cta-section {
            padding: 6rem 2rem;
            background: linear-gradient(135deg, var(--bg-darker), var(--bg-card));
            text-align: center;
        }

        .cta-content {
            max-width: 600px;
            margin: 0 auto;
        }

        .cta-section h2 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 1rem;
            background: linear-gradient(135deg, var(--text-primary), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .cta-section p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 2.5rem;
        }

        .cta-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
        }

        /* Footer */
        .footer {
            background: var(--bg-darker);
            border-top: 1px solid var(--border-color);
            padding: 3rem 2rem 1rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .footer-section p,
        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            margin-bottom: 0.5rem;
            display: block;
            transition: color 0.3s ease;
        }

        .footer-section a:hover {
            color: var(--primary-purple);
        }

        .footer-bottom {
            border-top: 1px solid var(--border-color);
            margin-top: 2rem;
            padding-top: 1rem;
            text-align: center;
            color: var(--text-muted);
        }


        /* Mobile Responsiveness */
        /* New Hero Styles */
        .requirements-container {
            margin-top: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
        }

        .requirements-form {
            width: 100%;
        }

        .input-group {
            position: relative;
            background: rgba(26, 26, 46, 0.6);
            border: 1px solid var(--border-color);
            border-radius: 16px;
            padding: 1.5rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .input-group:focus-within {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .requirements-input {
            width: 100%;
            background: transparent;
            border: none;
            color: var(--text-primary);
            font-size: 1.1rem;
            font-family: 'Space Grotesk', sans-serif;
            resize: none;
            outline: none;
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .requirements-input::placeholder {
            color: var(--text-muted);
        }

        .get-started-btn {
            display: inline-flex;
            align-items: center;
            gap: 0.75rem;
            padding: 0.875rem 2rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
        }

        .get-started-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        .suggestions {
            margin-top: 1.5rem;
            display: flex;
            gap: 0.75rem;
            align-items: center;
            flex-wrap: wrap;
            justify-content: center;
        }

        .suggestion-label {
            color: var(--text-muted);
            font-size: 0.9rem;
            font-weight: 500;
        }

        .suggestion-chip {
            padding: 0.5rem 1rem;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 20px;
            color: var(--primary-purple);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .suggestion-chip:hover {
            background: rgba(139, 92, 246, 0.2);
            transform: translateY(-1px);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 15, 0.95);
            backdrop-filter: blur(8px);
            z-index: 2000;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 1;
        }

        .modal-content {
            background: var(--bg-card);
            border: 1px solid var(--border-color);
            border-radius: 20px;
            max-width: 480px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transform: translateY(20px);
            transition: transform 0.3s ease;
        }

        .modal.show .modal-content {
            transform: translateY(0);
        }

        /* Project Selection Styles */
        .project-selection-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .project-option {
            background: rgba(30, 30, 35, 0.5);
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .project-option:hover {
            border-color: rgba(139, 92, 246, 0.5);
            background: rgba(139, 92, 246, 0.08);
            transform: translateY(-2px);
        }

        .project-option.selected {
            border-color: var(--primary-purple);
            background: rgba(139, 92, 246, 0.15);
        }

        .project-option-icon {
            width: 48px;
            height: 48px;
            background: rgba(139, 92, 246, 0.2);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            color: var(--primary-purple);
            flex-shrink: 0;
        }

        .project-option-content {
            flex: 1;
        }

        .project-option-content h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin: 0 0 0.25rem 0;
            color: var(--text-primary);
        }

        .project-option-content p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin: 0;
        }

        .project-name-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: var(--text-primary);
            font-size: 0.875rem;
            margin-top: 1rem;
            transition: all 0.2s ease;
            outline: none;
        }

        .project-name-input:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .existing-projects-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-height: 300px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }

        .existing-projects-list::-webkit-scrollbar {
            width: 6px;
        }

        .existing-projects-list::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }

        .existing-projects-list::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 3px;
        }

        .project-date {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .project-actions {
            display: flex;
            justify-content: flex-end;
            margin-top: 2rem;
        }

        .continue-project-btn {
            padding: 0.875rem 2rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Space Grotesk', sans-serif;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25);
        }

        .continue-project-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(139, 92, 246, 0.35);
        }

        .continue-project-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* New Project Selection Styles */
        .create-project-btn {
            background: rgba(139, 92, 246, 0.08);
            border: 1.5px dashed rgba(139, 92, 246, 0.4);
            border-radius: 12px;
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--primary-purple);
            margin-bottom: 1.5rem;
        }
        
        .create-project-btn:hover {
            border-color: var(--primary-purple);
            background: rgba(139, 92, 246, 0.15);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.2);
        }
        
        .create-project-btn i {
            font-size: 0.875rem;
        }
        
        .projects-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 1rem;
            max-height: 380px;
            overflow-y: auto;
            padding-right: 0.5rem;
        }
        
        .projects-grid::-webkit-scrollbar {
            width: 6px;
        }
        
        .projects-grid::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 3px;
        }
        
        .projects-grid::-webkit-scrollbar-thumb {
            background: rgba(139, 92, 246, 0.3);
            border-radius: 3px;
        }
        
        .project-card {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid rgba(255, 255, 255, 0.08);
            border-radius: 12px;
            padding: 1.25rem;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .project-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, var(--primary-purple), var(--secondary-purple));
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .project-card:hover {
            border-color: rgba(139, 92, 246, 0.3);
            background: rgba(139, 92, 246, 0.08);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(139, 92, 246, 0.15);
        }
        
        .project-card:hover::before {
            opacity: 1;
        }
        
        .project-card-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.5rem;
        }
        
        .project-emoji {
            width: 36px;
            height: 36px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.25rem;
        }
        
        .project-card:hover .project-emoji {
            background: rgba(139, 92, 246, 0.15);
        }
        
        .project-name {
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            line-height: 1.3;
            flex: 1;
        }
        
        .project-date {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin: 0;
        }
        
        .project-stats {
            display: flex;
            gap: 1rem;
            margin-top: 0.75rem;
            font-size: 0.75rem;
            color: var(--text-secondary);
        }
        
        .project-stat {
            display: flex;
            align-items: center;
            gap: 0.3rem;
        }
        
        .project-stat i {
            font-size: 0.7rem;
            opacity: 0.7;
        }

        /* API Keys Collection Styles */
        .api-keys-container {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .api-provider-card {
            background: rgba(30, 30, 35, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 1.25rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .api-provider-card:hover {
            border-color: rgba(139, 92, 246, 0.3);
            background: rgba(139, 92, 246, 0.05);
            transform: translateY(-2px);
        }

        .api-provider-card.filled {
            border-color: rgba(16, 185, 129, 0.5);
            background: rgba(16, 185, 129, 0.05);
        }

        .api-provider-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 0.75rem;
        }

        .api-provider-logo {
            width: 48px;
            height: 48px;
            background: white;
            border-radius: 12px;
            padding: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .api-provider-logo svg {
            width: 100%;
            height: 100%;
            color: #8B5CF6;
        }

        .api-provider-info h3 {
            font-size: 1.125rem;
            font-weight: 600;
            margin: 0;
            color: var(--text-primary);
        }

        .api-provider-info p {
            font-size: 0.875rem;
            color: var(--text-secondary);
            margin: 0.25rem 0 0 0;
        }

        .api-key-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(10, 10, 15, 0.6);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            color: var(--text-primary);
            font-family: monospace;
            font-size: 0.875rem;
            transition: all 0.2s ease;
            outline: none;
        }

        .api-key-input:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .api-key-input.valid {
            border-color: rgba(16, 185, 129, 0.5);
        }
        
        .api-key-input.existing {
            color: var(--text-secondary);
            font-style: italic;
        }
        
        .api-provider-card.existing {
            border-color: rgba(16, 185, 129, 0.3);
            background: rgba(16, 185, 129, 0.03);
        }

        .api-keys-actions {
            display: flex;
            gap: 1rem;
            justify-content: space-between;
            margin-top: 1.5rem;
        }

        .skip-api-btn {
            padding: 0.875rem 1.5rem;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 10px;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .skip-api-btn:hover {
            border-color: var(--primary-purple);
            color: var(--primary-purple);
        }

        .save-api-btn {
            flex: 1;
            padding: 0.875rem 1.5rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 10px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: 'Space Grotesk', sans-serif;
            box-shadow: 0 4px 12px rgba(139, 92, 246, 0.25);
        }

        .save-api-btn:hover:not(:disabled) {
            transform: translateY(-1px);
            box-shadow: 0 6px 16px rgba(139, 92, 246, 0.35);
        }

        .save-api-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .modal-header {
            text-align: center;
            padding: 2rem 2rem 1rem;
            border-bottom: 1px solid var(--border-color);
        }

        .modal-header h2 {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            background: linear-gradient(135deg, var(--text-primary), var(--primary-purple));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .modal-header p {
            color: var(--text-secondary);
            font-size: 1.1rem;
        }

        .modal-body {
            padding: 2rem;
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        .google-auth-btn {
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            padding: 14px;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid #334155;
            border-radius: 10px;
            color: #f8fafc;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .google-auth-btn:hover {
            transform: translateY(-2px);
            background: rgba(30, 41, 59, 1);
            border-color: rgba(139, 92, 246, 0.5);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .google-icon {
            width: 24px;
            height: 24px;
        }

        .divider-with-text {
            text-align: center;
            margin: 1.5rem 0;
            position: relative;
            color: var(--text-muted);
        }

        .divider-with-text::before,
        .divider-with-text::after {
            content: '';
            position: absolute;
            top: 50%;
            width: calc(37% - 40px);
            height: 1px;
            background: var(--border-color);
        }

        .divider-with-text::before {
            left: 0;
        }

        .divider-with-text::after {
            right: 0;
        }

        .quick-auth-form .form-group {
            margin-bottom: 1rem;
        }

        .quick-auth-form .form-input {
            width: 100%;
            padding: 0.875rem 1rem;
            background: rgba(10, 10, 15, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'Space Grotesk', sans-serif;
            transition: all 0.3s ease;
            outline: none;
        }

        .quick-auth-form .form-input:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .quick-auth-form .submit-btn {
            width: 100%;
            padding: 0.875rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
            font-family: 'Space Grotesk', sans-serif;
        }

        .quick-auth-form .submit-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
        }

        .auth-footer {
            text-align: center;
            margin-top: 1.5rem;
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        .auth-footer a {
            color: var(--primary-purple);
            text-decoration: none;
            font-weight: 500;
        }

        .auth-footer a:hover {
            text-decoration: underline;
        }

        /* Auth tabs styles */
        .auth-tabs {
            display: flex;
            margin-bottom: 2rem;
            border-bottom: 1px solid var(--border-color);
        }

        .auth-tab {
            flex: 1;
            padding: 1rem;
            text-align: center;
            cursor: pointer;
            font-weight: 600;
            color: var(--text-muted);
            transition: all 0.3s ease;
            position: relative;
        }

        .auth-tab.active {
            color: var(--text-primary);
        }

        .auth-tab.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-radius: 3px 3px 0 0;
            animation: tab-enter 0.3s ease forwards;
        }

        @keyframes tab-enter {
            from { transform: scaleX(0); }
            to { transform: scaleX(1); }
        }

        .auth-forms {
            position: relative;
        }

        .auth-form {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .auth-form.active {
            display: block;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .form-options {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: -0.5rem 0 1rem;
            font-size: 0.875rem;
        }

        .remember-me {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--text-muted);
        }

        .remember-me input[type="checkbox"] {
            width: 16px;
            height: 16px;
            cursor: pointer;
        }

        .forgot-password a {
            color: var(--primary-purple);
            text-decoration: none;
            font-weight: 500;
        }

        .forgot-password a:hover {
            text-decoration: underline;
        }

        .terms {
            margin-top: 2rem;
            text-align: center;
            font-size: 0.875rem;
            color: var(--text-muted);
        }

        .terms a {
            color: var(--primary-purple);
            text-decoration: none;
        }

        .terms a:hover {
            text-decoration: underline;
        }

        /* API Keys Modal Styles */
        .api-keys-modal-content {
            max-width: 600px;
        }

        /* Compact API Keys Grid */
        .api-key-section {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 0.75rem;
            overflow-y: auto;
            padding-right: 0.5rem;
            /* Hide scrollbar */
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .api-key-section::-webkit-scrollbar {
            display: none;
        }

        .api-provider {
            background: rgba(10, 10, 15, 0.3);
            border: 1px solid var(--border-color);
            border-radius: 10px;
            padding: 0.75rem;
            transition: all 0.3s ease;
            position: relative;
        }

        .api-provider:hover {
            border-color: var(--primary-purple);
            background: rgba(139, 92, 246, 0.05);
        }

        .api-provider.filled {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.05);
        }

        .provider-compact {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        .provider-header-compact {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .provider-logo {
            width: 32px;
            height: 32px;
            border-radius: 6px;
            object-fit: contain;
            background: white;
            padding: 4px;
            flex-shrink: 0;
        }

        .provider-info-compact {
            flex: 1;
            min-width: 0;
        }

        .provider-info-compact h3 {
            font-size: 0.9rem;
            font-weight: 600;
            color: var(--text-primary);
            margin: 0;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .api-key-input {
            width: 100%;
            padding: 0.5rem 0.75rem;
            background: rgba(10, 10, 15, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 6px;
            color: var(--text-primary);
            font-family: monospace;
            font-size: 0.8rem;
            transition: all 0.3s ease;
            outline: none;
        }

        .api-key-input:focus {
            outline: none;
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.1);
        }

        .api-key-input.filled {
            border-color: var(--success);
        }

        .get-key-link {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            color: var(--primary-purple);
            font-size: 0.75rem;
            text-decoration: none;
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .api-provider:hover .get-key-link {
            opacity: 1;
        }

        .provider-info h3 {
            font-size: 1rem;
            font-weight: 600;
            margin-bottom: 0.125rem;
            color: var(--text-primary);
        }

        .provider-info p {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.3;
        }

        .get-key-link {
            color: var(--primary-purple);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 500;
            transition: color 0.3s ease;
            white-space: nowrap;
        }

        .get-key-link:hover {
            color: var(--accent-purple);
        }

        .api-key-input {
            width: 100%;
            padding: 0.75rem 1rem;
            background: rgba(10, 10, 15, 0.5);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-family: monospace;
            font-size: 0.9rem;
            transition: all 0.3s ease;
            outline: none;
        }

        .api-key-input:focus {
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .form-actions {
            display: flex;
            gap: 1rem;
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
        }

        .skip-btn {
            flex: 1;
            padding: 0.875rem;
            background: transparent;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .skip-btn:hover {
            border-color: var(--primary-purple);
            color: var(--primary-purple);
        }

        /* Project Modal Styles */
        .project-modal-content {
            max-width: 420px;
        }

        .project-modal-content .modal-body {
            padding: 2rem 2.5rem 2.5rem;
        }
        
        .project-form {
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
        }

        .project-form .form-group {
            margin-bottom: 0;
        }

        .project-form .form-input {
            width: 100%;
            padding: 1rem 1.25rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            color: var(--text-primary);
            font-size: 1rem;
            font-family: 'Space Grotesk', sans-serif;
            transition: all 0.3s ease;
        }

        .project-form .form-input:focus {
            outline: none;
            border-color: var(--primary-purple);
            background: rgba(255, 255, 255, 0.08);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .project-form .form-actions {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .projects-link {
            color: var(--primary-purple);
            text-decoration: none;
            font-weight: 600;
            font-size: 0.95rem;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .projects-link:hover {
            color: var(--secondary-purple);
            text-decoration: underline;
        }

        .create-project-btn {
            padding: 0.875rem 2.5rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 12px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
            white-space: nowrap;
            font-family: 'Space Grotesk', sans-serif;
        }

        .create-project-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
        }

        .continue-btn {
            flex: 1;
            padding: 0.875rem;
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .continue-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(139, 92, 246, 0.3);
        }

        /* Carousel Styles */
        .carousel-modal-content {
            max-width: 450px;
            max-height: 90vh;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .carousel-progress {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 2rem 2rem 1rem;
            background: var(--bg-card);
            border-bottom: 1px solid var(--border-color);
        }

        .progress-step {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            opacity: 0.5;
            transition: opacity 0.3s ease;
        }

        .progress-step.active {
            opacity: 1;
        }

        .progress-step.completed {
            opacity: 1;
        }

        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--bg-darker);
            border: 2px solid var(--border-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .progress-step.active .step-circle {
            background: linear-gradient(135deg, var(--primary-purple), var(--secondary-purple));
            border-color: var(--primary-purple);
            color: white;
        }

        .progress-step.completed .step-circle {
            background: var(--success);
            border-color: var(--success);
            color: white;
        }

        .progress-step.completed .step-circle::after {
            content: 'âœ“';
            font-size: 1.2rem;
        }

        .step-label {
            font-size: 0.875rem;
            color: var(--text-secondary);
            font-weight: 500;
        }

        .progress-step.active .step-label {
            color: var(--primary-purple);
        }

        .progress-step.completed .step-label {
            color: var(--success);
        }

        .progress-line {
            width: 60px;
            height: 2px;
            background: var(--border-color);
            position: relative;
            transition: background 0.3s ease;
        }

        .progress-line.completed {
            background: var(--success);
        }

        .carousel-container {
            position: relative;
            width: 100%;
            flex: 1;
            overflow-y: auto;
            overflow-x: hidden;
            /* Hide scrollbar for Chrome, Safari and Opera */
            scrollbar-width: none; /* Firefox */
            -ms-overflow-style: none; /* IE and Edge */
        }

        .carousel-container::-webkit-scrollbar {
            display: none;
        }

        .carousel-step {
            width: 100%;
            display: none;
            animation: fadeIn 0.3s ease;
            height: 100%;
            overflow-y: auto;
            /* Hide scrollbar */
            scrollbar-width: none;
            -ms-overflow-style: none;
        }

        .carousel-step::-webkit-scrollbar {
            display: none;
        }

        .carousel-step.active {
            display: flex;
            flex-direction: column;
        }

        /* Email Verification Styles */
        .verification-form {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .code-input-container {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }

        .code-input {
            width: 50px;
            height: 60px;
            text-align: center;
            font-size: 1.5rem;
            font-weight: 600;
            background: rgba(10, 10, 15, 0.5);
            border: 2px solid var(--border-color);
            border-radius: 12px;
            color: var(--text-primary);
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .code-input:focus {
            outline: none;
            border-color: var(--primary-purple);
            box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
        }

        .code-input.filled {
            border-color: var(--primary-purple);
            background: rgba(139, 92, 246, 0.1);
        }

        .verification-error {
            color: var(--error);
            font-size: 0.9rem;
            text-align: center;
            margin-top: -1rem;
        }

        .resend-container {
            text-align: center;
            margin-top: 1.5rem;
            padding-top: 1.5rem;
            border-top: 1px solid var(--border-color);
        }

        .resend-container p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .resend-btn {
            background: transparent;
            border: 1px solid var(--primary-purple);
            color: var(--primary-purple);
            padding: 0.5rem 1.5rem;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Space Grotesk', sans-serif;
        }

        .resend-btn:hover {
            background: var(--primary-purple);
            color: white;
        }

        .resend-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        @media (max-width: 768px) {
            .api-key-section {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero h1 {
                font-size: 2.5rem;
            }

            .hero p {
                font-size: 1.1rem;
            }

            .requirements-container {
                margin-top: 2rem;
            }

            .input-group {
                padding: 1rem;
            }

            .requirements-input {
                font-size: 1rem;
            }

            .get-started-btn {
                padding: 0.75rem 1.5rem;
                font-size: 1rem;
            }

            .suggestions {
                justify-content: flex-start;
            }

            .suggestion-chip {
                font-size: 0.8rem;
                padding: 0.4rem 0.8rem;
            }

            .modal-content {
                margin: 1rem;
                max-height: calc(100vh - 2rem);
            }

            .modal-header {
                padding: 2rem 1.5rem 1rem;
            }

            .modal-body {
                padding: 1.5rem;
            }

            .provider-header {
                grid-template-columns: 40px 1fr;
                gap: 0.75rem;
            }

            .get-key-link {
                grid-column: span 2;
                margin-top: 0.5rem;
            }

            .provider-logo {
                width: 40px;
                height: 40px;
            }

            .features-grid,
            .agents-grid,
            .customization-grid {
                grid-template-columns: 1fr;
            }

            .section-header h2 {
                font-size: 2rem;
            }

            .cta-section h2 {
                font-size: 2rem;
            }

            .cta-buttons {
                flex-direction: column;
                align-items: center;
            }
        }

        /* Local Setup Section Styles */
        .local-setup {
            padding: 4rem 0;
            background: var(--bg-darker);
            border-top: 1px solid var(--border-color);
        }

        .setup-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .setup-content {
            margin-top: 3rem;
        }

        .setup-steps {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        /* Compact setup styles */
        .setup-compact {
            background: var(--bg-card);
            border-radius: 16px;
            padding: 2.5rem;
            border: 1px solid var(--border-color);
            max-width: 900px;
            margin: 0 auto;
        }

        .setup-compact h3 {
            font-size: 1.5rem;
            margin-bottom: 0.75rem;
            color: var(--text-primary);
        }

        .setup-compact > p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
            font-size: 1.1rem;
        }

        .compact-code-block {
            background: var(--bg-darker);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            overflow: hidden;
            padding: 2rem;
        }

        .code-step {
            position: relative;
            margin-bottom: 1.5rem;
            padding-right: 4rem;
        }

        .code-step:last-child {
            margin-bottom: 0;
        }

        .code-step .comment {
            color: #64748B;
            display: block;
            margin-bottom: 0.25rem;
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .code-step .command {
            color: #E2E8F0;
            font-family: 'Monaco', 'Consolas', 'Courier New', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
            display: block;
        }

        .copy-step-btn {
            position: absolute;
            top: 50%;
            right: 0;
            transform: translateY(-50%);
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--primary-purple);
            color: var(--primary-purple);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.75rem;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .copy-step-btn:hover {
            background: var(--primary-purple);
            color: white;
            transform: translateY(-50%) scale(1.05);
        }

        .copy-step-btn.copied {
            background: #10B981;
            border-color: #10B981;
            color: white;
        }

        .copy-all-btn {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid var(--primary-purple);
            color: var(--primary-purple);
            padding: 0.75rem 1.5rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.875rem;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .copy-all-btn:hover {
            background: var(--primary-purple);
            color: white;
            transform: translateY(-2px);
        }

        .setup-note {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-top: 1.5rem;
            padding: 1rem 1.5rem;
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 8px;
            color: var(--primary-purple);
        }

        .setup-note i {
            font-size: 1.2rem;
        }

        .setup-note code {
            background: rgba(139, 92, 246, 0.2);
            padding: 0.125rem 0.375rem;
            border-radius: 4px;
            font-family: monospace;
        }

        .setup-step {
            display: flex;
            gap: 1.5rem;
            padding: 1.5rem;
            background: var(--bg-card);
            border-radius: 12px;
            border: 1px solid var(--border-color);
            transition: all 0.3s ease;
        }

        .setup-step:hover {
            transform: translateX(5px);
            border-color: var(--primary-purple);
            box-shadow: 0 4px 20px rgba(139, 92, 246, 0.1);
        }

        .step-number {
            width: 40px;
            height: 40px;
            background: var(--primary-purple);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            flex-shrink: 0;
        }

        .step-content {
            flex: 1;
        }

        .step-content h3 {
            font-size: 1.2rem;
            margin-bottom: 0.5rem;
            color: var(--text-primary);
        }

        .step-content p {
            color: var(--text-secondary);
            font-size: 0.9rem;
            margin-top: 0.5rem;
        }

        .code-block {
            background: var(--bg-darker);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 0.75rem 1rem;
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin: 0.5rem 0;
            font-family: 'Monaco', 'Courier New', monospace;
            position: relative;
        }

        .code-block code {
            color: var(--accent-purple);
            font-size: 0.9rem;
            white-space: nowrap;
            overflow-x: auto;
            padding-right: 2rem;
        }

        .copy-btn {
            background: transparent;
            border: none;
            color: var(--text-secondary);
            cursor: pointer;
            padding: 0.5rem;
            transition: all 0.2s ease;
            position: absolute;
            right: 0.5rem;
            top: 50%;
            transform: translateY(-50%);
        }

        .copy-btn:hover {
            color: var(--primary-purple);
        }

        .setup-requirements {
            background: var(--bg-card);
            padding: 2rem;
            border-radius: 12px;
            border: 1px solid var(--border-color);
        }

        .setup-requirements h3 {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .requirements-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-bottom: 2rem;
        }

        .requirement-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: var(--text-secondary);
        }

        .requirement-item i {
            color: var(--success);
        }

        .api-keys-section {
            margin-top: 2rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .api-keys-section h3 {
            margin-bottom: 0.5rem;
        }

        .api-keys-section p {
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .api-keys-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1rem;
        }

        .api-key-card {
            background: var(--bg-darker);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            text-align: center;
            transition: all 0.3s ease;
        }

        .api-key-card:hover {
            transform: translateY(-2px);
            border-color: var(--primary-purple);
        }

        .api-key-card i {
            font-size: 2rem;
            color: var(--primary-purple);
            margin-bottom: 0.5rem;
        }

        .api-key-card h4 {
            font-size: 1.1rem;
            margin-bottom: 0.25rem;
            color: var(--text-primary);
        }

        .api-key-card p {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
        }

        .api-key-card a {
            color: var(--primary-purple);
            text-decoration: none;
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.2s ease;
        }

        .api-key-card a:hover {
            color: var(--accent-purple);
        }

        .setup-footer {
            text-align: center;
            margin-top: 3rem;
            padding-top: 2rem;
            border-top: 1px solid var(--border-color);
        }

        .setup-footer p {
            color: var(--text-secondary);
        }

        .setup-footer a {
            color: var(--primary-purple);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .setup-footer a:hover {
            color: var(--accent-purple);
        }

        /* Mobile Responsive for Local Setup */
        @media (max-width: 768px) {
            .setup-content {
                grid-template-columns: 1fr;
            }

            .setup-compact {
                padding: 1.5rem;
            }

            .compact-code-block {
                padding: 1rem;
            }
            .code-step {
                padding-right: 3rem;
            }
            .code-step .comment,
            .code-step .command {
                font-size: 0.8rem;
            }
            .copy-step-btn {
                padding: 0.3rem 0.6rem;
                font-size: 0.7rem;
            }

            .setup-step {
                flex-direction: column;
                text-align: center;
            }

            .step-number {
                margin: 0 auto;
            }

            .code-block {
                flex-direction: column;
                padding: 1rem;
            }

            .code-block code {
                margin-bottom: 0.5rem;
                padding-right: 0;
            }

            .copy-btn {
                position: static;
                transform: none;
                margin-top: 0.5rem;
            }

            .api-keys-grid {
                grid-template-columns: 1fr;
            }
        }

        /* Loading overlay styles */
        .loading-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(10, 10, 15, 0.95);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            flex-direction: column;
            gap: 2rem;
        }

        .loading-overlay.show {
            display: flex;
        }

        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 3px solid rgba(139, 92, 246, 0.2);
            border-top: 3px solid var(--primary-purple);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .loading-text {
            color: var(--text-primary);
            font-size: 1.2rem;
            font-weight: 600;
            text-align: center;
        }

        .loading-subtext {
            color: var(--text-secondary);
            font-size: 0.9rem;
            text-align: center;
            margin-top: -1rem;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="#" class="logo">LFG ðŸš€</a>
            <div class="nav-links">
                <a href="#features">Features</a>
                <!-- <a href="#agents">AI Agents</a> -->
                <a href="https://github.com/lfg-hq/lfg" class="github-btn" target="_blank">
                    <i class="fab fa-github"></i>
                    Open Source
                </a>
                <a href="{% url 'auth' %}" class="cta-btn">Get Started</a>
            </div>
        </div>
    </nav>

    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <div class="hero-badge">
                <i class="fas fa-rocket"></i>
                Open Source AI Platform
            </div>
            <h1>Ideas â†’ Spec â†’ Ship</h1>
            <p><p>AI that writes your PRDs, technical docs, and development tickets, and then build faster than ever.</p></p>
            
            <div class="requirements-container">
                <form id="requirements-form" class="requirements-form">
                    <div class="input-group">
                        <textarea 
                            id="requirements-input" 
                            class="requirements-input" 
                            placeholder="Describe your product idea... e.g., 'I want to build a task management app with real-time collaboration'"
                            rows="3"
                            required
                        ></textarea>
                        <button type="submit" class="get-started-btn">
                            <span class="btn-text">Get Started</span>
                            <i class="fas fa-arrow-right"></i>
                        </button>
                    </div>
                </form>
                <div class="suggestions">
                    <span class="suggestion-label">Try:</span>
                    <button type="button" class="suggestion-chip" data-suggestion="A mobile app for tracking daily habits with gamification">Habit Tracker App</button>
                    <button type="button" class="suggestion-chip" data-suggestion="An AI-powered resume builder that optimizes for ATS systems">Resume Builder</button>
                    <button type="button" class="suggestion-chip" data-suggestion="A marketplace for connecting local service providers with customers">Service Marketplace</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Onboarding Carousel Modal -->
    <div id="onboarding-modal" class="modal">
        <div class="modal-content carousel-modal-content">
            <!-- Progress indicator -->
            <div class="carousel-progress">
                <div class="progress-step active" data-step="1">
                    <div class="step-circle">1</div>
                    <div class="step-label">Account</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="2">
                    <div class="step-circle">2</div>
                    <div class="step-label">Verify</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="3">
                    <div class="step-circle">3</div>
                    <div class="step-label">API Keys</div>
                </div>
                <div class="progress-line"></div>
                <div class="progress-step" data-step="4">
                    <div class="step-circle">4</div>
                    <div class="step-label">Project</div>
                </div>
            </div>

            <!-- Carousel content -->
            <div class="carousel-container">
                <!-- Step 1: Login/Register -->
                <div class="carousel-step active" data-step="1">
                    <div class="modal-body">
                        <div class="auth-tabs">
                            <div class="auth-tab register-tab active" onclick="switchAuthTab('register')">Register</div>
                            <div class="auth-tab login-tab" onclick="switchAuthTab('login')">Login</div>
                        </div>
                        
                        <div class="auth-forms">
                            <div class="auth-form login-form">
                                <a href="{% url 'google_login' %}?from_landing=true" class="google-auth-btn" style="text-decoration: none;">
                                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'><path fill='%23EA4335' d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z'/><path fill='%234285F4' d='M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z'/><path fill='%23FBBC05' d='M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z'/><path fill='%2334A853' d='M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z'/></svg>" alt="Google" class="google-icon">
                                    Sign in with Google
                                </a>
                                
                                <div class="divider-with-text">
                                    <span>or continue with email</span>
                                </div>
                                
                                <form id="quick-login-form" class="quick-auth-form">
                                    <div class="form-group">
                                        <input type="email" id="login-email" class="form-input" placeholder="Email address" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" id="login-password" class="form-input" placeholder="Password" required>
                                    </div>
                                    <div class="form-options">
                                        <label class="remember-me">
                                            <input type="checkbox" name="remember_me">
                                            <span>Remember me</span>
                                        </label>
                                        <div class="forgot-password">
                                            <a href="/accounts/password-reset/" target="_blank">Forgot password?</a>
                                        </div>
                                    </div>
                                    <button type="submit" class="submit-btn">Sign In</button>
                                </form>
                            </div>
                            
                            <div class="auth-form register-form active">
                                <a href="{% url 'google_login' %}?from_landing=true" class="google-auth-btn" style="text-decoration: none;">
                                    <img src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 48 48'><path fill='%23EA4335' d='M24 9.5c3.54 0 6.71 1.22 9.21 3.6l6.85-6.85C35.9 2.38 30.47 0 24 0 14.62 0 6.51 5.38 2.56 13.22l7.98 6.19C12.43 13.72 17.74 9.5 24 9.5z'/><path fill='%234285F4' d='M46.98 24.55c0-1.57-.15-3.09-.38-4.55H24v9.02h12.94c-.58 2.96-2.26 5.48-4.78 7.18l7.73 6c4.51-4.18 7.09-10.36 7.09-17.65z'/><path fill='%23FBBC05' d='M10.53 28.59c-.48-1.45-.76-2.99-.76-4.59s.27-3.14.76-4.59l-7.98-6.19C.92 16.46 0 20.12 0 24c0 3.88.92 7.54 2.56 10.78l7.97-6.19z'/><path fill='%2334A853' d='M24 48c6.48 0 11.93-2.13 15.89-5.81l-7.73-6c-2.15 1.45-4.92 2.3-8.16 2.3-6.26 0-11.57-4.22-13.47-9.91l-7.98 6.19C6.51 42.62 14.62 48 24 48z'/></svg>" alt="Google" class="google-icon">
                                    Sign up with Google
                                </a>
                                
                                <div class="divider-with-text">
                                    <span>or continue with email</span>
                                </div>
                                
                                <form id="quick-register-form" class="quick-auth-form">
                                    <div class="form-group">
                                        <input type="email" id="register-email" class="form-input" placeholder="Email address" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" id="register-password1" class="form-input" placeholder="Create a password" required>
                                    </div>
                                    <div class="form-group">
                                        <input type="password" id="register-password2" class="form-input" placeholder="Confirm password" required>
                                    </div>
                                    <button type="submit" class="submit-btn">Create Account</button>
                                </form>
                            </div>
                        </div>
                        
                        <div class="terms">
                            By continuing, you agree to LFG's <a href="#">Terms of Service</a> and <a href="#">Privacy Policy</a>
                        </div>
                    </div>
                </div>

                <!-- Step 2: Email Verification (for registration) -->
                <div class="carousel-step" data-step="2">
                    <div class="modal-header">
                        <h2>Verify Your Email</h2>
                        <p>We've sent a 6-digit code to <span id="verification-email"></span></p>
                    </div>
                    <div class="modal-body">
                        <form id="verification-form" class="verification-form">
                            <div class="code-input-container">
                                <input type="text" class="code-input" maxlength="1" data-index="0" autocomplete="off">
                                <input type="text" class="code-input" maxlength="1" data-index="1" autocomplete="off">
                                <input type="text" class="code-input" maxlength="1" data-index="2" autocomplete="off">
                                <input type="text" class="code-input" maxlength="1" data-index="3" autocomplete="off">
                                <input type="text" class="code-input" maxlength="1" data-index="4" autocomplete="off">
                                <input type="text" class="code-input" maxlength="1" data-index="5" autocomplete="off">
                            </div>
                            <div class="verification-error" style="display: none;"></div>
                            <button type="submit" class="continue-btn">Verify Email</button>
                        </form>
                        <div class="resend-container">
                            <p>Didn't receive the code?</p>
                            <button class="resend-btn" onclick="resendVerificationCode()">Resend Code</button>
                        </div>
                    </div>
                </div>

                <!-- Step 3: API Keys Collection -->
                <div class="carousel-step" data-step="3">
                    <div class="modal-header">
                        <h2>Connect Your AI</h2>
                        <p>Add at least one API key to start building with AI</p>
                    </div>
                    <div class="modal-body">
                        <div class="api-keys-container">
                            <!-- OpenAI -->
                            <div class="api-provider-card">
                                <div class="api-provider-header">
                                    <div class="api-provider-logo">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M22.2819 9.8211a5.9847 5.9847 0 0 0-.5157-4.9108 6.0462 6.0462 0 0 0-6.5098-2.9A6.0651 6.0651 0 0 0 4.9807 4.1818a5.9847 5.9847 0 0 0-3.9977 2.9 6.0462 6.0462 0 0 0 .7427 7.0966 5.98 5.98 0 0 0 .511 4.9107 6.051 6.051 0 0 0 6.5146 2.9001A5.9847 5.9847 0 0 0 13.2599 24a6.051 6.051 0 0 0 6.0865-6.0958 5.9894 5.9894 0 0 0 3.9575-2.9001 6.0557 6.0557 0 0 0-.7475-7.0966zm-9.022 12.6081a4.4755 4.4755 0 0 1-2.8764-1.0408l.1419-.0804 4.7783-2.7582a.7948.7948 0 0 0 .3927-.6813v-6.7369l2.02 1.1686a.071.071 0 0 1 .038.052v5.5826a4.504 4.504 0 0 1-4.4945 4.4944zm-9.6607-4.1254a4.4708 4.4708 0 0 1-.5346-3.0137l.142.0852 4.783 2.7582a.7712.7712 0 0 0 .7806 0l5.8428-3.3685v2.3324a.0804.0804 0 0 1-.0332.0615L9.74 19.9502a4.4992 4.4992 0 0 1-6.1408-1.6464zM2.3408 7.8956a4.485 4.485 0 0 1 2.3655-1.9728V11.6a.7664.7664 0 0 0 .3879.6765l5.8144 3.3543-2.0201 1.1685a.0757.0757 0 0 1-.071 0l-4.8303-2.7865A4.504 4.504 0 0 1 2.3408 7.872zm16.5963 3.8558L13.1038 8.364 15.1192 7.2a.0757.0757 0 0 1 .071 0l4.8303 2.7913a4.4944 4.4944 0 0 1-.6765 8.1042v-5.6772a.79.79 0 0 0-.407-.667zm2.0107-3.0231l-.142-.0852-4.7735-2.7818a.7759.7759 0 0 0-.7854 0L9.409 9.2297V6.8974a.0662.0662 0 0 1 .0284-.0615l4.8303-2.7866a4.4992 4.4992 0 0 1 6.6802 4.66zM8.3065 12.863l-2.02-1.1638a.0804.0804 0 0 1-.038-.0567V6.0742a4.4992 4.4992 0 0 1 7.3757-3.4537l-.142.0805L8.704 5.459a.7948.7948 0 0 0-.3927.6813zm1.0976-2.3654l2.602-1.4998 2.6069 1.4998v2.9994l-2.5974 1.5093-2.6067-1.4997z" fill="currentColor"/>
                                        </svg>
                                    </div>
                                    <div class="api-provider-info">
                                        <h3>OpenAI</h3>
                                        <p>GPT-5, GPT-5-mini</p>
                                    </div>
                                </div>
                                <input type="password" class="api-key-input" id="openai-key" placeholder="sk-..." data-provider="openai">
                            </div>

                            <!-- Anthropic -->
                            <div class="api-provider-card">
                                <div class="api-provider-header">
                                    <div class="api-provider-logo">
                                        <svg viewBox="0 0 92.2 65" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M66.5,0H52.4l25.7,65h14.1L66.5,0z M25.7,0L0,65h14.4l5.3-13.6h26.9L51.8,65h14.4L40.5,0C40.5,0,25.7,0,25.7,0z M24.3,39.3l8.8-22.8l8.8,22.8H24.3z" fill="currentColor"/>
                                        </svg>
                                    </div>
                                    <div class="api-provider-info">
                                        <h3>Anthropic</h3>
                                        <p>Claude 4 Sonnet</p>
                                    </div>
                                </div>
                                <input type="password" class="api-key-input" id="anthropic-key" placeholder="sk-ant-..." data-provider="anthropic">
                            </div>

                            <!-- xAI -->
                            <div class="api-provider-card">
                                <div class="api-provider-header">
                                    <div class="api-provider-logo">
                                        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z" fill="currentColor"/>
                                        </svg>
                                    </div>
                                    <div class="api-provider-info">
                                        <h3>xAI</h3>
                                        <p>Grok 4</p>
                                    </div>
                                </div>
                                <input type="password" class="api-key-input" id="xai-key" placeholder="xai-..." data-provider="xai">
                            </div>
                        </div>
                        
                        <div class="api-keys-actions">
                            <button type="button" class="skip-api-btn" onclick="skipApiKeys()">Skip for now</button>
                            <button type="button" class="save-api-btn" onclick="saveApiKeys()" disabled>Save & Continue</button>
                        </div>
                    </div>
                </div>

                <!-- Step 4: Project Selection -->
                <div class="carousel-step" data-step="4">
                    <div class="modal-header">
                        <h2>Select Your Project</h2>
                        <p>Click to continue with an existing project or create new</p>
                    </div>
                    <div class="modal-body">
                        <div class="project-selection-container">
                            <!-- Create new project option -->
                            <div class="create-project-btn" onclick="createFirstProjectAndRedirect()">
                                <i class="fas fa-plus"></i>
                                <span>Create New Project</span>
                            </div>
                            
                            <!-- Existing projects section -->
                            <div class="projects-grid">
                                <!-- Projects will be dynamically added here -->
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Features Section -->
    <section class="features" id="features">
        <div class="section-header">
            <h2>Transform Ideas into Actionable Plans</h2>
            <p>Currently specializing in product planning and documentationâ€”with full development features rolling out soon</p>
        </div>
        <div class="features-grid">
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-file-alt"></i>
                </div>
                <h3>Smart PRD Generation</h3>
                <p>Create comprehensive Product Requirements Documents that capture your vision, define user stories, and translate ideas into actionable development specifications.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-tasks"></i>
                </div>
                <h3>Development Tickets</h3>
                <p>Generate Linear/Jira-style tickets that break down complex features into manageable tasks with proper prioritization, acceptance criteria, and technical details.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-file-code"></i>
                </div>
                <h3>Technical Analysis</h3>
                <p>Generate detailed technical analysis documents that outline architecture decisions, implementation approaches, and system design considerations.</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">
                    <i class="fas fa-project-diagram"></i>
                </div>
                <h3>Project Management</h3>
                <p>Organize and track your product development lifecycle with AI-assisted project planning, milestone tracking, and progress monitoring.</p>
            </div>
            <div class="feature-card disabled">
                <span class="coming-soon-badge">Coming Soon</span>
                <div class="feature-icon">
                    <i class="fas fa-code"></i>
                </div>
                <h3>Full-Stack Development</h3>
                <p>Build complete web applications from frontend to backend with AI guidance and best practices built-in.</p>
            </div>
            <div class="feature-card disabled">
                <span class="coming-soon-badge">Coming Soon</span>
                <div class="feature-icon">
                    <i class="fas fa-rocket"></i>
                </div>
                <h3>Automated Development</h3>
                <p>AI agents that can write code, fix bugs, and deploy applicationsâ€”turning your PRDs into working software.</p>
            </div>
        </div>
    </section>

    <!-- AI Agents Section -->
    <section class="agents" id="agents">
        <div class="agents-container">
            <div class="section-header">
                <h2>Meet Your AI Team</h2>
                <p>Currently focused on product planningâ€”with development agents coming soon</p>
            </div>
            <div class="agents-grid">
                <div class="agent-card">
                    <div class="agent-avatar">
                        <i class="fas fa-user-tie"></i>
                    </div>
                    <h3>Product Manager</h3>
                    <div class="agent-role">Available Now</div>
                    <p>Creates comprehensive PRDs, technical documentation, and transforms your ideas into structured development tickets ready for implementation.</p>
                </div>
                <div class="agent-card disabled">
                    <span class="coming-soon-badge">Coming Soon</span>
                    <div class="agent-avatar">
                        <i class="fas fa-code"></i>
                    </div>
                    <h3>Full-Stack Developer</h3>
                    <div class="agent-role">Implementation & Architecture</div>
                    <p>Will build robust applications, implement features, and turn your PRDs into working software.</p>
                </div>
                <div class="agent-card disabled">
                    <div class="agent-avatar">
                        <i class="fas fa-palette"></i>
                    </div>
                    <h3>UI/UX Designer</h3>
                    <div class="agent-role">Design & Experience</div>
                    <p>Will create beautiful interfaces, design user experiences, and ensure accessibility and usability.</p>
                </div>

            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section" id="get-started">
        <div class="cta-content">
            <h2>Ready to Transform Your Ideas?</h2>
            <p>Start creating professional PRDs and technical documentation todayâ€”with full AI development capabilities launching soon.</p>
            <div class="cta-buttons">
                <a href="{% url 'auth' %}" class="btn-primary">
                    <i class="fas fa-rocket"></i>
                    Get Started Free
                </a>
                <a href="#" class="btn-secondary">
                    <i class="fas fa-book"></i>
                    View Documentation
                </a>
            </div>
        </div>
    </section>

    <!-- Local Setup Section -->
    <section class="local-setup" id="local-setup">
        <div class="setup-container">
            <div class="section-header">
                <h2>Get Started Locally</h2>
                <p>Set up LFG on your machine in just a few minutes</p>
            </div>
            <div class="setup-content">
                <div class="setup-compact">
                    <h3>Quick Setup Commands</h3>
                    <p>Copy and run these commands to get LFG running on your machine:</p>
                    <div class="compact-code-block">
                        <div class="code-step">
                            <span class="comment"># 1. Clone the repository</span>
                            <span class="command">git clone https://github.com/lfg-hq/lfg.git</span>
                            <button class="copy-step-btn" onclick="copyStep('git clone https://github.com/lfg-hq/lfg.git', this)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <div class="code-step">
                            <span class="comment"># 2. Create virtual environment</span>
                            <span class="command">cd lfg && python -m venv venv && source venv/bin/activate</span>
                            <span class="comment"># On Windows: cd lfg && python -m venv venv && venv\Scripts\activate</span>
                            <button class="copy-step-btn" onclick="copyStep('cd lfg && python -m venv venv && source venv/bin/activate', this)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <div class="code-step">
                            <span class="comment"># 3. Install dependencies</span>
                            <span class="command">pip install -r requirements.txt</span>
                            <button class="copy-step-btn" onclick="copyStep('pip install -r requirements.txt', this)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <div class="code-step">
                            <span class="comment"># 4. Set up environment</span>
                            <span class="command">cp .env.example .env</span>
                            <span class="comment"># Edit .env file to add your API keys</span>
                            <button class="copy-step-btn" onclick="copyStep('cp .env.example .env', this)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <div class="code-step">
                            <span class="comment"># 5. Run database migrations</span>
                            <span class="command">python manage.py migrate</span>
                            <button class="copy-step-btn" onclick="copyStep('python manage.py migrate', this)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <div class="code-step">
                            <span class="comment"># 6. Start the development server</span>
                            <span class="command">uvicorn LFG.asgi:application --host 0.0.0.0 --port 8000 --workers 2</span>
                            <span class="comment"># Access at http://localhost:8000</span>
                            <button class="copy-step-btn" onclick="copyStep('uvicorn LFG.asgi:application --host 0.0.0.0 --port 8000 --workers 2', this)">
                                <i class="fas fa-copy"></i> Copy
                            </button>
                        </div>
                        <button class="copy-all-btn" onclick="copyAllCommands()">
                            <i class="fas fa-copy"></i> Copy All
                        </button>
                    </div>
                    <div class="setup-note">
                        <i class="fas fa-info-circle"></i>
                        <span>Remember to add your AI provider API keys to the <code>.env</code> file before starting!</span>
                    </div>
                </div>
                
            </div>
            
            <div class="setup-footer">
                <p>Need help? Check out our <a href="https://github.com/lfg-hq/lfg/blob/main/README.md" target="_blank">documentation</a> or <a href="https://github.com/lfg-hq/lfg/issues" target="_blank">open an issue</a> on GitHub.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-section">
                <h3>LFG Platform</h3>
                <p>The open-source AI-powered product development platform that brings together the best of human creativity and artificial intelligence.</p>
            </div>
            <div class="footer-section">
                <h3>Product</h3>
                <a href="#features">Features</a>
                <a href="#agents">AI Agents</a>
                <a href="#customization">Customization</a>
                <a href="https://github.com/lfg-hq/lfg" target="_blank">GitHub</a>
            </div>
            <div class="footer-section">
                <h3>Support</h3>
                <a href="{% url 'auth' %}">Get Started</a>
                <a href="https://github.com/lfg-hq/lfg/issues" target="_blank">Report Issue</a>
                <a href="#">Contact</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 LFG ðŸš€ Project. Forever open source.</p>
        </div>
    </footer>

    <script>
        // Store user's requirements and state
        let userRequirements = '';
        let isAuthenticated = false;
        let currentStep = 1;
        let userEmail = '';
        let projectName = '';
        let isRegistering = false;
        let environment = '{{ ENVIRONMENT|default:"local" }}';  // Get environment from Django
        let selectedProject = null;
        let userProjects = [];

        // Check authentication status on load
        window.addEventListener('load', function() {
            // Restore requirements from sessionStorage if available
            const storedRequirements = sessionStorage.getItem('pendingRequirements');
            if (storedRequirements) {
                userRequirements = storedRequirements;
                // Don't clear it yet, we might need it after authentication
            }
            
            // Check URL parameters for onboarding continuation
            const urlParams = new URLSearchParams(window.location.search);
            const continueOnboarding = urlParams.get('onboarding') === 'true';
            const stepParam = urlParams.get('step');
            
            // Check if user is authenticated via session or cookie
            fetch('/accounts/api/auth/status/', {
                credentials: 'include',
                headers: {
                    'Accept': 'application/json',
                    'Content-Type': 'application/json'
                }
            })
            .then(response => response.json())
            .then(data => {
                isAuthenticated = data.authenticated || false;
                
                // If continuing onboarding from Google login
                if (isAuthenticated && continueOnboarding && stepParam) {
                    currentStep = parseInt(stepParam);
                    showCarouselModal();
                    goToStep(currentStep);
                    
                    // Clean up URL
                    const cleanUrl = window.location.protocol + "//" + window.location.host + window.location.pathname;
                    window.history.replaceState({}, document.title, cleanUrl);
                }
            })
            .catch(() => {
                isAuthenticated = false;
            });

        });

        // Navbar scroll effect
        window.addEventListener('scroll', function() {
            const navbar = document.getElementById('navbar');
            if (window.scrollY > 50) {
                navbar.classList.add('scrolled');
            } else {
                navbar.classList.remove('scrolled');
            }
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                if (this.getAttribute('href') === '#') return;
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Suggestion chips
        document.querySelectorAll('.suggestion-chip').forEach(chip => {
            chip.addEventListener('click', function() {
                const suggestion = this.getAttribute('data-suggestion');
                document.getElementById('requirements-input').value = suggestion;
                document.getElementById('requirements-input').focus();
            });
        });

        // Requirements form submission
        document.getElementById('requirements-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            userRequirements = document.getElementById('requirements-input').value.trim();
            
            if (!userRequirements) return;
            
            // Store in sessionStorage to persist across page reloads
            sessionStorage.setItem('pendingRequirements', userRequirements);

            // Check if user is authenticated
            if (!isAuthenticated) {
                currentStep = 1;
                showCarouselModal();
            } else {
                // If already authenticated, check for existing projects
                checkExistingProjects().then(hasProjects => {
                    if (hasProjects) {
                        // Show project selection step
                        currentStep = 4;
                        showCarouselModal();
                        goToStep(4);
                        loadExistingProjects();
                    } else {
                        // Show API keys step
                        currentStep = 3;
                        showCarouselModal();
                        goToStep(3);
                    }
                });
            }
        });

        // Show carousel modal
        async function showCarouselModal() {
            const modal = document.getElementById('onboarding-modal');
            modal.style.display = 'flex';
            
            // Check for existing API keys if authenticated
            if (isAuthenticated) {
                await checkExistingApiKeys();
            }
            
            setTimeout(() => {
                modal.classList.add('show');
                // Setup API key listeners when modal is shown
                setupApiKeyListeners();
            }, 10);

            // Close modal on background click
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal('onboarding-modal');
                }
            });
        }

        // Modal functions
        function showModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.style.display = 'flex';
            setTimeout(() => {
                modal.classList.add('show');
            }, 10);

            // Close modal on background click
            modal.addEventListener('click', function(e) {
                if (e.target === modal) {
                    closeModal(modalId);
                }
            });
        }

        function closeModal(modalId) {
            const modal = document.getElementById(modalId);
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
            }, 300);
        }

        // Carousel navigation
        function goToStep(step) {
            // Hide all steps
            document.querySelectorAll('.carousel-step').forEach(s => {
                s.classList.remove('active');
            });
            
            // Show current step
            document.querySelector(`.carousel-step[data-step="${step}"]`).classList.add('active');
            
            // Update progress indicators
            document.querySelectorAll('.progress-step').forEach((s, index) => {
                const stepNum = index + 1;
                if (stepNum < step) {
                    s.classList.add('completed');
                    s.classList.remove('active');
                } else if (stepNum === step) {
                    s.classList.add('active');
                    s.classList.remove('completed');
                } else {
                    s.classList.remove('active', 'completed');
                }
            });
            
            // Update progress lines
            document.querySelectorAll('.progress-line').forEach((line, index) => {
                const lineStep = index + 1;
                if (lineStep < step) {
                    line.classList.add('completed');
                } else {
                    line.classList.remove('completed');
                }
            });
            
            currentStep = step;
            
            // If we're on the API keys step and authenticated, check existing keys
            if (step === 3 && isAuthenticated) {
                checkExistingApiKeys();
            }
        }

        // Login form submission
        document.getElementById('quick-login-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            try {
                const response = await fetch('/accounts/auth/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    body: `form_type=login&username=${encodeURIComponent(email)}&password=${encodeURIComponent(password)}`,
                    credentials: 'include'
                });

                if (response.ok) {
                    isAuthenticated = true;
                    isRegistering = false;
                    userEmail = email;
                    // Check if user has projects
                    checkExistingProjects().then(hasProjects => {
                        if (hasProjects) {
                            goToStep(4); // Go to project selection
                        } else {
                            goToStep(3); // Go to API keys
                        }
                    });
                } else {
                    alert('Login failed. Please check your credentials.');
                }
            } catch (error) {
                console.error('Login error:', error);
                alert('An error occurred. Please try again.');
            }
        });

        // Register form submission
        document.getElementById('quick-register-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const email = document.getElementById('register-email').value;
            const password1 = document.getElementById('register-password1').value;
            const password2 = document.getElementById('register-password2').value;
            
            // Validate passwords match
            if (password1 !== password2) {
                alert('Passwords do not match.');
                return;
            }
            
            try {
                const response = await fetch('/accounts/auth/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    body: `form_type=register&email=${encodeURIComponent(email)}&password1=${encodeURIComponent(password1)}&password2=${encodeURIComponent(password2)}`,
                    credentials: 'include'
                });

                if (response.ok) {
                    isAuthenticated = true;
                    isRegistering = true;
                    userEmail = email;
                    
                    // Check if environment is local (skip verification)
                    if (environment === 'local') {
                        // Skip to API keys step in local environment
                        goToStep(3);
                    } else {
                        // Show email in verification step
                        document.getElementById('verification-email').textContent = email;
                        // Go to verification step
                        goToStep(2);
                    }
                } else {
                    alert('Registration failed. The email may already be in use or password requirements not met.');
                }
            } catch (error) {
                console.error('Registration error:', error);
                alert('An error occurred. Please try again.');
            }
        });

        // Setup verification code inputs
        function setupVerificationInputs() {
            const inputs = document.querySelectorAll('.code-input');
            
            inputs.forEach((input, index) => {
                input.addEventListener('input', function(e) {
                    const value = e.target.value;
                    
                    if (value.length === 1) {
                        e.target.classList.add('filled');
                        // Move to next input
                        if (index < inputs.length - 1) {
                            inputs[index + 1].focus();
                        }
                    } else {
                        e.target.classList.remove('filled');
                    }
                });
                
                input.addEventListener('keydown', function(e) {
                    if (e.key === 'Backspace' && !e.target.value && index > 0) {
                        inputs[index - 1].focus();
                    }
                });
                
                // Handle paste
                input.addEventListener('paste', function(e) {
                    e.preventDefault();
                    const pastedData = (e.clipboardData || window.clipboardData).getData('text');
                    const digits = pastedData.replace(/\D/g, '').slice(0, 6);
                    
                    digits.split('').forEach((digit, i) => {
                        if (inputs[i]) {
                            inputs[i].value = digit;
                            inputs[i].classList.add('filled');
                        }
                    });
                    
                    if (digits.length > 0) {
                        inputs[Math.min(digits.length, inputs.length - 1)].focus();
                    }
                });
            });
        }

        // Verification form submission
        document.getElementById('verification-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const inputs = document.querySelectorAll('.code-input');
            const code = Array.from(inputs).map(input => input.value).join('');
            
            if (code.length !== 6) {
                showVerificationError('Please enter all 6 digits');
                return;
            }
            
            try {
                const response = await fetch('/accounts/verify-email-code/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    body: JSON.stringify({
                        code: code
                    }),
                    credentials: 'include'
                });

                if (response.ok) {
                    // Check if user has projects after verification
                    checkExistingProjects().then(hasProjects => {
                        if (hasProjects) {
                            goToStep(4); // Go to project selection
                        } else {
                            goToStep(3); // Go to API keys
                        }
                    });
                } else {
                    showVerificationError('Invalid code. Please try again.');
                }
            } catch (error) {
                console.error('Verification error:', error);
                showVerificationError('An error occurred. Please try again.');
            }
        });

        function showVerificationError(message) {
            const errorDiv = document.querySelector('.verification-error');
            errorDiv.textContent = message;
            errorDiv.style.display = 'block';
            setTimeout(() => {
                errorDiv.style.display = 'none';
            }, 5000);
        }

        // Resend verification code
        async function resendVerificationCode() {
            const button = event.target;
            button.disabled = true;
            
            try {
                const response = await fetch('/accounts/resend-verification-code/', {
                    method: 'POST',
                    headers: {
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    credentials: 'include'
                });

                if (response.ok) {
                    button.textContent = 'Code Sent!';
                    setTimeout(() => {
                        button.textContent = 'Resend Code';
                        button.disabled = false;
                    }, 3000);
                } else {
                    alert('Failed to resend code. Please try again.');
                    button.disabled = false;
                }
            } catch (error) {
                console.error('Resend error:', error);
                alert('An error occurred. Please try again.');
                button.disabled = false;
            }
        }

        // Create first project automatically
        async function createFirstProjectAndRedirect() {
            projectName = 'First Project';
            await createProjectAndRedirect();
        }

        // API Key Management
        const apiKeyInputs = document.querySelectorAll('.api-key-input');
        let validApiKeys = {};

        // Listen to API key inputs
        // Setup API key input listeners when modal is shown
        function setupApiKeyListeners() {
            const apiInputs = document.querySelectorAll('.api-key-input');
            apiInputs.forEach(input => {
                // Remove any existing listeners first
                input.removeEventListener('input', handleApiKeyInput);
                // Add the listener
                input.addEventListener('input', handleApiKeyInput);
            });
        }
        
        function handleApiKeyInput(e) {
            const provider = e.target.dataset.provider;
            const value = e.target.value.trim();
            const card = e.target.closest('.api-provider-card');
            const isExisting = e.target.getAttribute('data-existing') === 'true';
            
            // If user starts typing over an existing key, remove the existing flag
            if (isExisting && !value.includes('*')) {
                e.target.removeAttribute('data-existing');
                e.target.classList.remove('existing');
                card.classList.remove('existing');
            }
            
            if (value && (validateApiKey(provider, value) || isExisting)) {
                e.target.classList.add('valid');
                card.classList.add('filled');
                
                // Only add to validApiKeys if it's a new key (not masked)
                if (!value.includes('*')) {
                    validApiKeys[provider] = value;
                } else {
                    delete validApiKeys[provider];
                }
            } else {
                e.target.classList.remove('valid');
                card.classList.remove('filled');
                delete validApiKeys[provider];
            }
            
            // Enable/disable save button
            updateSaveButton();
        }

        function validateApiKey(provider, key) {
            if (!key) return false;
            
            switch(provider) {
                case 'openai':
                    // OpenAI keys can start with sk-proj- or sk-
                    return (key.startsWith('sk-proj-') || key.startsWith('sk-')) && key.length > 20;
                case 'anthropic':
                    return key.startsWith('sk-ant-') && key.length > 20;
                case 'xai':
                    return key.startsWith('xai-') && key.length > 20;
                default:
                    return false;
            }
        }

        function updateSaveButton() {
            const saveBtn = document.querySelector('.save-api-btn');
            const hasValidKeys = Object.keys(validApiKeys).length > 0;
            const hasExistingKeys = document.querySelectorAll('.api-key-input[data-existing="true"]').length > 0;
            
            if (saveBtn) {
                // Enable button if there are new valid keys or if all keys exist
                if (hasValidKeys) {
                    saveBtn.disabled = false;
                    saveBtn.textContent = 'Save & Continue';
                } else if (hasExistingKeys) {
                    // Check if all providers have existing keys
                    const allExisting = document.querySelectorAll('.api-key-input[data-existing="true"]').length >= 1;
                    if (allExisting) {
                        saveBtn.disabled = false;
                        saveBtn.textContent = 'Continue';
                    } else {
                        saveBtn.disabled = true;
                    }
                } else {
                    saveBtn.disabled = true;
                }
            }
        }

        // Save API keys and continue
        async function saveApiKeys() {
            const saveBtn = document.querySelector('.save-api-btn');
            if (!saveBtn || saveBtn.disabled) return;
            
            console.log('Valid API keys:', validApiKeys);
            
            // If no new keys to save (only existing ones), just continue
            if (Object.keys(validApiKeys).length === 0) {
                const hasExisting = document.querySelectorAll('.api-key-input[data-existing="true"]').length > 0;
                if (hasExisting) {
                    // Check if user has existing projects
                    const hasProjects = await checkExistingProjects();
                    if (hasProjects) {
                        // Show project selection step
                        goToStep(4);
                        loadExistingProjects();
                    } else {
                        // Create project and redirect
                        await createFirstProjectAndRedirect();
                    }
                    return;
                }
            }
            
            saveBtn.disabled = true;
            saveBtn.textContent = 'Saving...';
            
            try {
                // Save each API key
                const savePromises = [];
                
                for (const [provider, key] of Object.entries(validApiKeys)) {
                    const formData = new FormData();
                    formData.append('api_key', key);
                    
                    savePromises.push(
                        fetch(`/accounts/save-api-key/${provider}/`, {
                            method: 'POST',
                            headers: {
                                'X-CSRFToken': getCookie('csrftoken')
                            },
                            body: formData,
                            credentials: 'include'
                        }).then(response => {
                            if (!response.ok) {
                                console.error(`Failed to save ${provider} key:`, response.status);
                            }
                            return response;
                        })
                    );
                }
                
                const results = await Promise.all(savePromises);
                
                // Check if all saves were successful
                const allSuccessful = results.every(response => response.ok);
                
                if (allSuccessful) {
                    console.log('All API keys saved successfully');
                    // Check if user has existing projects
                    const hasProjects = await checkExistingProjects();
                    if (hasProjects) {
                        // Show project selection step
                        goToStep(4);
                        loadExistingProjects();
                    } else {
                        // Create project and redirect
                        await createFirstProjectAndRedirect();
                    }
                } else {
                    // Find which keys failed
                    const failedProviders = [];
                    Object.keys(validApiKeys).forEach((provider, index) => {
                        if (!results[index].ok) {
                            failedProviders.push(provider);
                        }
                    });
                    throw new Error(`Failed to save API keys for: ${failedProviders.join(', ')}`);
                }
            } catch (error) {
                console.error('Error saving API keys:', error);
                saveBtn.disabled = false;
                saveBtn.textContent = 'Save & Continue';
                alert(`Failed to save API keys: ${error.message}\n\nPlease check the console for more details.`);
            }
        }

        // Skip API keys and continue
        async function skipApiKeys() {
            console.log('Skip API keys clicked');
            // Check if user has existing projects
            const hasProjects = await checkExistingProjects();
            console.log('Has existing projects:', hasProjects);
            console.log('User projects:', userProjects);
            
            if (hasProjects) {
                // Show project selection step
                console.log('Showing project selection step');
                goToStep(4);
                loadExistingProjects();
            } else {
                // Create project and redirect
                console.log('No existing projects, creating new one');
                await createFirstProjectAndRedirect();
            }
        }
        
        // Check for existing API keys
        async function checkExistingApiKeys() {
            try {
                const response = await fetch('/accounts/api/user/api-keys/', {
                    credentials: 'include',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    
                    // Pre-fill inputs for existing keys
                    if (data.has_openai_key) {
                        const input = document.getElementById('openai-key');
                        if (input) {
                            input.value = 'sk-...**********************';
                            input.classList.add('valid', 'existing');
                            input.closest('.api-provider-card').classList.add('filled', 'existing');
                            // Don't add to validApiKeys as we don't have the actual key
                            input.setAttribute('data-existing', 'true');
                        }
                    }
                    
                    if (data.has_anthropic_key) {
                        const input = document.getElementById('anthropic-key');
                        if (input) {
                            input.value = 'sk-ant-...******************';
                            input.classList.add('valid', 'existing');
                            input.closest('.api-provider-card').classList.add('filled', 'existing');
                            input.setAttribute('data-existing', 'true');
                        }
                    }
                    
                    if (data.has_xai_key) {
                        const input = document.getElementById('xai-key');
                        if (input) {
                            input.value = 'xai-...*********************';
                            input.classList.add('valid', 'existing');
                            input.closest('.api-provider-card').classList.add('filled', 'existing');
                            input.setAttribute('data-existing', 'true');
                        }
                    }
                    
                    // Update save button text if all keys exist
                    if (data.has_openai_key && data.has_anthropic_key && data.has_xai_key) {
                        const saveBtn = document.querySelector('.save-api-btn');
                        if (saveBtn) {
                            saveBtn.textContent = 'Continue';
                            saveBtn.disabled = false;
                        }
                    }
                }
            } catch (error) {
                console.error('Error checking existing API keys:', error);
            }
        }

        // Check if user has existing projects
        async function checkExistingProjects() {
            try {
                console.log('Checking for existing projects...');
                
                // Make a request to create project API with a special flag to just get count
                const response = await fetch('/projects/api/create/', {
                    method: 'POST',
                    credentials: 'include',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    body: JSON.stringify({
                        check_existing: true  // Special flag to just check existing projects
                    })
                });
                
                console.log('Projects check response status:', response.status);
                
                if (response.ok) {
                    const data = await response.json();
                    console.log('Response data:', data);
                    
                    // If the API returns existing projects info
                    if (data.has_existing_projects !== undefined) {
                        if (data.projects) {
                            userProjects = data.projects;
                        }
                        return data.has_existing_projects;
                    }
                    
                    // Otherwise assume no projects
                    return false;
                }
                return false;
            } catch (error) {
                console.error('Error checking existing projects:', error);
                return false;
            }
        }

        // Load existing projects into the UI
        function loadExistingProjects() {
            const container = document.querySelector('.projects-grid');
            if (!container) return;
            
            container.innerHTML = '';
            
            userProjects.forEach(project => {
                const projectCard = document.createElement('div');
                projectCard.className = 'project-card';
                projectCard.onclick = () => redirectToChat(project.id);
                
                // Random emoji if none exists
                const emojis = ['ðŸ“', 'ðŸš€', 'ðŸ’¡', 'ðŸŽ¯', 'âš¡', 'ðŸŒŸ', 'ðŸ’»', 'ðŸ”§'];
                const emoji = project.icon || emojis[Math.floor(Math.random() * emojis.length)];
                
                projectCard.innerHTML = `
                    <div class="project-card-header">
                        <div class="project-emoji">${emoji}</div>
                        <h3 class="project-name">${project.name}</h3>
                    </div>
                    <p class="project-date">${project.created_at ? new Date(project.created_at).toLocaleDateString() : 'Recent'}</p>
                `;
                container.appendChild(projectCard);
            });
        }

        // Select new project option
        function selectNewProject() {
            selectedProject = null;
            // Remove selected from all cards
            document.querySelector('.new-project-card')?.classList.add('selected');
            document.querySelectorAll('.existing-project-card').forEach(card => {
                card.classList.remove('selected');
            });
            // Enable continue button
            const continueBtn = document.querySelector('.project-continue-btn');
            if (continueBtn) continueBtn.disabled = false;
        }

        // Select existing project
        function selectExistingProject(projectId) {
            selectedProject = projectId;
            // Remove selected from new project card
            document.querySelector('.new-project-card')?.classList.remove('selected');
            
            // Highlight selected project
            document.querySelectorAll('.existing-project-card').forEach((card, index) => {
                if (userProjects[index] && userProjects[index].id === projectId) {
                    card.classList.add('selected');
                } else {
                    card.classList.remove('selected');
                }
            });
            
            // Enable continue button
            const continueBtn = document.querySelector('.project-continue-btn');
            if (continueBtn) continueBtn.disabled = false;
        }

        // Continue with selected project
        async function continueWithProject() {
            const continueBtn = document.querySelector('.project-continue-btn');
            if (continueBtn) {
                continueBtn.disabled = true;
                continueBtn.textContent = 'Setting up...';
            }
            
            if (selectedProject) {
                // Use existing project
                redirectToChat(selectedProject);
            } else {
                // Create new project
                await createFirstProjectAndRedirect();
            }
        }



        async function createProjectAndRedirect() {
            try {
                const response = await fetch('/projects/api/create/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-CSRFToken': getCookie('csrftoken')
                    },
                    body: JSON.stringify({
                        name: projectName || 'First Project',
                        description: 'Your first project on LFG',
                        requirements: userRequirements || sessionStorage.getItem('pendingRequirements') || ''
                    }),
                    credentials: 'include'
                });

                if (response.ok) {
                    const data = await response.json();
                    // Hide modal if it's open
                    const modal = document.getElementById('onboarding-modal');
                    if (modal) {
                        modal.style.display = 'none';
                        modal.classList.remove('show');
                    }
                    
                    // Redirect to chat with the new project
                    redirectToChat(data.project_id);
                } else {
                    // If project creation fails, redirect to settings to set up API keys
                    window.location.href = '/accounts/settings/#llm-settings';
                }
            } catch (error) {
                console.error('Error creating project:', error);
                // Redirect to settings on error
                window.location.href = '/accounts/settings/#llm-settings';
            }
        }

        // Redirect to chat with requirements and project
        function redirectToChat(projectId) {
            // Get requirements from sessionStorage if not in variable
            const requirements = userRequirements || sessionStorage.getItem('pendingRequirements') || '';
            const encodedRequirements = encodeURIComponent(requirements);
            
            // Clear sessionStorage after using it
            sessionStorage.removeItem('pendingRequirements');
            
            window.location.href = `/chat/project/${projectId}/?requirements=${encodedRequirements}`;
        }

        // Google login
        function handleGoogleLogin() {
            // Store requirements in session storage for after redirect
            sessionStorage.setItem('pendingRequirements', userRequirements);
            window.location.href = '/accounts/google-login/?next=/chat/';
        }

        // Initialize API key listeners after DOM loads
        document.addEventListener('DOMContentLoaded', function() {
            setupVerificationInputs();
        });

        // Switch auth tabs
        function switchAuthTab(tab) {
            const loginTab = document.querySelector('.login-tab');
            const registerTab = document.querySelector('.register-tab');
            const loginForm = document.querySelector('.login-form');
            const registerForm = document.querySelector('.register-form');
            
            if (tab === 'login') {
                loginTab.classList.add('active');
                registerTab.classList.remove('active');
                loginForm.classList.add('active');
                registerForm.classList.remove('active');
            } else {
                registerTab.classList.add('active');
                loginTab.classList.remove('active');
                registerForm.classList.add('active');
                loginForm.classList.remove('active');
            }
        }

        // Get CSRF token
        function getCookie(name) {
            let cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                const cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    const cookie = cookies[i].trim();
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        // Add animation on scroll
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver(function(entries) {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.style.opacity = '1';
                    entry.target.style.transform = 'translateY(0)';
                }
            });
        }, observerOptions);

        // Observe all cards for animation
        document.querySelectorAll('.feature-card, .agent-card, .custom-card').forEach(card => {
            card.style.opacity = '0';
            card.style.transform = 'translateY(20px)';
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            observer.observe(card);
        });

        // Copy to clipboard function
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                const button = event.target.closest('.copy-btn');
                const originalHTML = button.innerHTML;
                
                button.innerHTML = '<i class="fas fa-check"></i>';
                button.style.color = 'var(--success)';
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.style.color = '';
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy text: ', err);
            });
        }

        function copyStep(command, button) {
            navigator.clipboard.writeText(command).then(() => {
                const originalHTML = button.innerHTML;
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                button.classList.add('copied');
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.classList.remove('copied');
                }, 2000);
            });
        }
        
        function copyAllCommands() {
            const commands = `# 1. Clone the repository
git clone https://github.com/lfg-hq/lfg.git

# 2. Create virtual environment
cd lfg && python -m venv venv && source venv/bin/activate
# On Windows: cd lfg && python -m venv venv && venv\\Scripts\\activate

# 3. Install dependencies
pip install -r requirements.txt

# 4. Set up environment
cp .env.example .env
# Edit .env file to add your API keys

# 5. Run database migrations
python manage.py migrate

# 6. Start the development server
uvicorn LFG.asgi:application --host 0.0.0.0 --port 8000 --workers 2

# Access at http://localhost:8000`;

            navigator.clipboard.writeText(commands).then(function() {
                const button = event.target.closest('.copy-all-btn');
                const originalHTML = button.innerHTML;
                
                button.innerHTML = '<i class="fas fa-check"></i> Copied!';
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                }, 2000);
            }).catch(function(err) {
                console.error('Failed to copy commands: ', err);
            });
        }

        // Check if API key is filled and update visual state
    </script>

    <!-- Loading Overlay -->
    <div class="loading-overlay" id="loadingOverlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">Setting up your workspace...</div>
        <div class="loading-subtext">Redirecting to chat</div>
    </div>
</body>
</html> 