# Generated by Django 4.2.7 on 2026-01-18

from django.db import migrations, models


class Migration(migrations.Migration):

    dependencies = [
        ('accounts', '0020_add_has_seen_onboarding'),
    ]

    operations = [
        # Add Claude Code fields to Profile
        migrations.AddField(
            model_name='profile',
            name='claude_code_authenticated',
            field=models.BooleanField(
                default=False,
                help_text='Whether the user has authenticated Claude Code CLI on their workspace'
            ),
        ),
        migrations.AddField(
            model_name='profile',
            name='claude_code_s3_key',
            field=models.CharField(
                blank=True,
                max_length=255,
                null=True,
                help_text='S3 key where Claude auth folder is backed up'
            ),
        ),
        # Add Claude Code enabled toggle to ApplicationState
        migrations.AddField(
            model_name='applicationstate',
            name='claude_code_enabled',
            field=models.BooleanField(
                default=False,
                help_text='Use Claude Code CLI for ticket execution instead of API'
            ),
        ),
    ]
